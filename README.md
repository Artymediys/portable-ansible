# Portable-Ansible
Чтобы собрать образ с **Ansible**, требуется установленный **Docker**.  
Базовый образ - `alt:p10` **(AltLinux 10)**.  

## Содержание образа
Список установленных пакетов из репозитория `AltLinux 10`:
- `glibc`
- `python3`
- `python3-module-pip`

Список установленных пакетов с помощью `pip3`:
- `ansible`
- `jmespath`

Список установленных пакетов с помощью `ansible-galaxy`:
- `community.general`

## Сборка образа и пуш в registry
В текущем репозитории есть два файла:
- `Dockerfile`
- `build_and_push.sh`

`Dockerfile` содержит в себе код для сборки образа, а в файле `build_and_push.sh` находится скрипт самой сборки
и пуша собранного образа в указанный registry.
В начале скрипта находится секция с переменными, которые необходимо задать для корректного выполнения скрипта:
- `IMAGE_NAME`
- `REGISTRY_URL`
- `LOGIN`
- `PASSWORD`

Также сборку можно выполнить без пуша в registry с помощью команды `docker build -t ansible-alt10 .`

## Запуск и работа с образом
Образ предназначен для интерактивного использования. Это значит, что после запуска можно будет
свободно выполнять любые команды в среде контейнера.

Чтобы запустить контейнер в интерактивном режиме из собранного образа, надо выполнить следующую команду: `docker run -it --name portable-ansible ansible-alt10`

Выход из интерактивного режима и завершение работы контейнера возможен с помощью сочетания клавиш: `Ctrl + D`